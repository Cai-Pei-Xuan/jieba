# jieba
jieba的應用

* 處理wikidata(做jieba)，並存檔(保留有用的詞彙)
  * 載入jieba的套件，目的是為了將所有wiki資料做斷詞。
  * 載入wikidata，並用(\n, ，, 。)來當做句子的切割。
  * 將切割好的句子透過jieba斷詞可以獲得詞與詞性，並排除一些常見的詞(自訂)，以及只保留詞性是n和x的詞，底下是範例。
    ```
    string = '程瑤迦是江蘇寶應程家的大小姐，曾經跟全真教的「清淨散人」孫不二學武功'
    jieba.posseg.lcut(string) = [pair('程瑤迦', 'nr'), pair('是', 'v'), pair('江蘇', 'ns'), pair('寶應', 'n'), pair('程家', 'n'), pair('的', 'uj'), pair('大小姐', 'n'), pair('，', 'x'), pair('曾經', 'd'), pair('跟', 'p'), pair('全真教', 'nz'), pair('的', 'uj'), pair('「', 'x'), pair('清淨散人', 'n'), pair('」', 'x'), pair('孫不二', 'nr'), pair('學', 'zg'), pair('武功', 'n')]
    
    # 排除一些常見的詞(自訂)，以及只保留詞性是n和x的詞
    list = ['寶應', '程家', 大小姐', '清淨散人', '武功']
    ```
  * 假設wikidata的資料有十萬筆，每次會將處理好的一千筆資料做存檔，因此會有100個檔案，底下是內容範例
    ```
    弟子 口述 大唐西域記 
    書寫 書 
    唐朝 唐太宗 
    ```
* 統計所有關鍵詞的詞頻表
  * 載入所有切割好的wikidata的資料，並一行一行讀取，查看第一詞是否在字典中，沒有就建立該詞的字典，並將值紀錄為1，接著查看第二詞是否在字典中，有的話就將詞的值加1，沒有的就跟前面一樣建立該詞的字典，以此類推。
    ```
    Dict = {"弟子" : 1, "大唐西域記" : 1, "口述" : 1, ...}
    ```
* 統計與所有關鍵詞的關聯度排行表
  * 載入所有切割好的wikidata的資料，並一行一行讀取，查看第一詞是否在字典中，沒有就建立該詞的字典，接著查看第二詞是否在第一詞的字典中，沒有就新增進去，有就將關聯度的值加1，接著查看下一個詞...，結束後換查看第二詞是否在字典中，沒有就建立該詞的字典，接著查看第一詞是否在第二詞的字典中，以此類推。
    ```
    Dict = {"弟子" : {"口述" : 1, "大唐西域記" : 1}, "口述" : {"弟子" : 1, "大唐西域記" : 1}, "大唐西域記" : {"弟子" : 1, "口述" : 1}, ...}
    ```
  * 將字典做排序(由大到小)，並存成json檔
    ```
    Dict = {"弟子" : [["口述" : 1], ["大唐西域記" : 1]], "口述" : [["弟子" : 1], ["大唐西域記" : 1]], "大唐西域記" : [["弟子" : 1], ["口述" : 1]], ...}
    ```
* 統計所有關鍵詞的相似度(由兩者的關聯度表中前10筆共同的詞彙數量決定)排行表
  * 讀取所有關鍵字的關聯度表
  * 藉由第一個關鍵詞的關聯度取前10個字出來，再透過這10個字找出各自的前10個關聯度(排除重複的)，在字典中建立第一個關鍵詞的字典，並依序建立這100個(理想)關鍵詞的key，比較第一個關鍵鍵詞與那100個(理想)關鍵詞各自的前10個關聯度，有多少交集，並存入對應key的value中，以此類推下一個關鍵字。
    ```
    Dict = {"弟子" : {"弟子" : 2, "口述" : 1, "大唐西域記" : 1}, "口述" : {"口述" : 2, "弟子" : 1, "大唐西域記" : 1}, "大唐西域記" : {"大唐西域記" : 2, "弟子" : 1, "口述" : 1}, ...}
    ```
  * 將字典做排序(由大到小)，並存成json檔
    ```
    Dict = {"弟子" : [["弟子" : 2, ["口述" : 1], ["大唐西域記" : 1]], "口述" : [["口述" : 2], ["弟子" : 1], ["大唐西域記" : 1]], "大唐西域記" : [["大唐西域記" : 2], ["弟子" : 1], ["口述" : 1]], ...}
    ```
## 使用說明
### Installation
- 安裝jilbe
```
pip install jieba
```
- 安裝ijson
```
pip install ijson
```
### Demo
```
python main.py
```
## 環境需求
- python 3.X
